<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="../assets/style.css?t=a44c9e9d">
    <script src="../assets/script.js?t=2bcc4b59"></script>
    <title>Communicate with the extension directly</title>
    <meta name="viewport" content="width=device-width">
  </head>
  <body class="-menu-visible">
    <div class="doc-layout">
      <div class="toggle menu-toggle js-menu-toggle"></div>
      <div class="body page-apimethods">
        <div class="header-nav">
          <div class="right">
          </div>
        </div>
        <div class="markdown-body"><h2 id="communicate-with-the-extension-directly">Communicate with the extension directly</h2>
<blockquote>
<p>Note that this API is still excremental and is subject to future changes.</p>
</blockquote>
<p>Use the following methods of <code>window.devToolsExtension</code>:</p>
<ul>
<li><a href="#windowdevtoolsextensionopenposition">open</a></li>
<li><a href="#windowdevtoolsextensionnotifyerrorsonerror">notifyErrors</a></li>
<li><a href="#windowdevtoolsextensionlistenonmessage-instanceid">send</a></li>
<li><a href="#windowdevtoolsextensionconnectconfig">connect</a></li>
<li><a href="#windowdevtoolsextensiondisconnect">disconnect</a></li>
</ul>
<h3 id="window.devtoolsextension.open(position)">window.devToolsExtension.open([position])</h3>
<p>Open monitor window.</p>
<h5 id="arguments">Arguments</h5>
<ul>
<li>[<code>position</code>] <em>String</em> - window position: <code>left</code>, <code>right</code>, <code>bottom</code>. Also can be <code>panel</code> to <a href="../FAQ.html#how-to-keep-devtools-window-focused-all-the-time-in-a-chrome-panel">open it in a Chrome panel</a>. Or <code>remote</code> to <a href="../FAQ.html#how-to-get-it-work-with-webworkers-react-native-hybrid-desktop-and-server-side-apps">open remote monitor</a>. By default is <code>left</code>.</li>
</ul>
<h3 id="window.devtoolsextension.notifyerrors(onerror)">window.devToolsExtension.notifyErrors([onError])</h3>
<p>Show notifications for uncaught exceptions.</p>
<h5 id="arguments">Arguments</h5>
<ul>
<li>[<code>onError</code>] <em>Function</em> to call when there&apos;s an exceptions.</li>
</ul>
<h3 id="window.devtoolsextension.updatestore(store-instanceid)">window.devToolsExtension.updateStore(store, instanceId)</h3>
<p>Specify a new <code>store</code> object to be used by the extension. For example, in case of Redux Saga we can use like this:</p>
<pre><code class="lang-js"><span class="pl-k">const</span> sagaMiddleware = createSagaMiddleware();
<span class="pl-k">const</span> store = createStore(
  reducer,
  compose(
    applyMiddleware(sagaMiddleware),
    <span class="pl-c1">window</span>.devToolsExtension &amp;&amp; <span class="pl-c1">window</span>.devToolsExtension()
  )
);
sagaMiddleware.run(rootSaga);
<span class="pl-k">if</span> (<span class="pl-c1">window</span>.devToolsExtension) <span class="pl-c1">window</span>.devToolsExtension.updateStore(store);
</code></pre>
<h5 id="arguments">Arguments</h5>
<ul>
<li><code>store</code> <em>Object</em> to update.</li>
<li>[<code>instanceId</code>] <em>String</em> - instance id for which to update the store (in case your specified it in the config).</li>
</ul>
<h3 id="window.devtoolsextension.send(action-state-shouldstringify-instanceid)">window.devToolsExtension.send(action, state, [shouldStringify, instanceId])</h3>
<p>Send a new action and state manually to be shown on the monitor.</p>
<h5 id="arguments">Arguments</h5>
<ul>
<li><code>action</code> <em>String</em> (action type) or <em>Object</em> with required <code>type</code> key.</li>
<li><code>state</code> <em>any</em> - usually object to expand.</li>
<li>[<code>shouldStringify</code>] <em>Boolean</em> - indicates whether to serialize <code>action</code> and <code>state</code>.</li>
<li>[<code>instanceId</code>] <em>String</em> - instance id for which to attach the log.</li>
</ul>
<h3 id="window.devtoolsextension.listen(onmessage-instanceid)">window.devToolsExtension.listen(onMessage, instanceId)</h3>
<p>Send a new action and state manually to be shown on the monitor.</p>
<h5 id="arguments">Arguments</h5>
<ul>
<li><code>onMessage</code> <em>Function</em> to call when there&apos;s an action form the monitor.</li>
<li><code>instanceId</code> <em>String</em> - instance id for which to handle actions.</li>
</ul>
<h3 id="window.devtoolsextension.connect(config)">window.devToolsExtension.connect([config])</h3>
<h5 id="arguments">Arguments</h5>
<ul>
<li>[<code>config</code>] <em>Object</em> intended to be the same as for <a href="Arguments.html#windowdevtoolsextensionconfig">Redux store enhancer</a>. For now only <code>instanceId</code> and <code>shouldStringify</code> should be specified.</li>
</ul>
<h5 id="returns">Returns</h5>
<p><em>Object</em> containing the following methods:</p>
<ul>
<li><code>subscribe(listener)</code> - adds a change listener. It will be called any time an action is dispatched form the monitor.</li>
<li><code>unsubscribe()</code> - unsubscribes the change listener. You can use <a href="#windowdevtoolsextensiondisconnect">window.devToolsExtension.disconnect</a> to remove all listeners.</li>
<li><code>send(action, state)</code> - sends a new action and state manually to be shown on the monitor. If action is <code>null</code> then we suppose we send <code>liftedState</code>.</li>
<li><code>init(state)</code> - sends the initial state to the monitor.</li>
<li><code>error(message)</code> - sends the error message to be shown in Dispatcher monitor.</li>
</ul>
<p>Example of usage:</p>
<pre><code class="lang-js"><span class="pl-k">let</span> isStarted = <span class="pl-c1">false</span>;
<span class="pl-k">let</span> isLiftedAction = <span class="pl-c1">false</span>;

<span class="pl-k">const</span> devTools = <span class="pl-c1">window</span>.devToolsExtension.connect();
devTools.subscribe((message) =&gt; {
  <span class="pl-k">if</span> (message.type === <span class="pl-s">&apos;START&apos;</span>) {
    isStarted = <span class="pl-c1">true</span>;
    devTools.send(<span class="pl-c1">null</span>, store.liftedStore.getState());
  } <span class="pl-k">else</span> <span class="pl-k">if</span> (message.type === <span class="pl-s">&apos;STOP&apos;</span>) {
    isStarted = <span class="pl-c1">false</span>;
  } <span class="pl-k">else</span> <span class="pl-k">if</span> (message.type === <span class="pl-s">&apos;DISPATCH&apos;</span> &amp;&amp; message.payload.type !== <span class="pl-s">&apos;JUMP_TO_STATE&apos;</span>) {
    isLiftedAction = <span class="pl-c1">true</span>;
    store.liftedStore.dispatch(message.payload);
  } <span class="pl-k">else</span> <span class="pl-k">if</span> (message.type === <span class="pl-s">&apos;ACTION&apos;</span>) { <span class="pl-c">// Received a store action from Dispatch monitor</span>
    store.dispatch(message.payload);
  } 
});

store.subscribe(() =&gt; {
  <span class="pl-k">if</span> (!isStarted) <span class="pl-k">return</span>;
  <span class="pl-k">const</span> liftedState = store.liftedStore.getState();
  <span class="pl-k">if</span> (isLiftedAction) { devTools.send(<span class="pl-c1">null</span>, liftedState); isLiftedAction = <span class="pl-c1">false</span>; }
  <span class="pl-k">else</span> devTools.send(liftedState.actionsById[liftedState.nextActionId - <span class="hljs-number">1</span>], store.getState());
});
</code></pre>
<p>There&apos;s <a href="https://github.com/zalmoxisus/redux-devtools-extension/blob/master/examples/react-counter-messaging/components/Counter.js">a simpler example</a>.</p>
<h3 id="window.devtoolsextension.disconnect()">window.devToolsExtension.disconnect()</h3>
<p>Remove extensions listener and disconnect extensions background script connection.</p>

        </div>
        <div class="footer-nav">
          <div class="left"><a href="../API/Arguments.html"><span class="title">Create Redux store right in the extension</span></a></div>
          <div class="right"><a href="../FAQ.html"><span class="label">Next: </span><span class="title">FAQ</span></a></div>
        </div>
      </div>
      <div class="menu toc-menu">
        <li class="menu-item -level-0 -parent">
          <ul class="submenu">
            <li class="menu-item -level-1"><a href="../index.html" class="link title  link-index">Redux Extension</a>
            </li>
            <li class="menu-item -level-1 -parent"><span class="title">Introduction</span>
              <ul class="submenu">
                <li class="menu-item -level-2"><span class="title">Installation</span>
                </li>
                <li class="menu-item -level-2"><span class="title">Usage</span>
                </li>
                <li class="menu-item -level-2"><span class="title">Ecosystem</span>
                </li>
                <li class="menu-item -level-2"><span class="title">Examples</span>
                </li>
              </ul>
            </li>
            <li class="menu-item -level-1 -parent"><span class="title">Basics</span>
              <ul class="submenu">
                <li class="menu-item -level-2"><span class="title">Monitors</span>
                </li>
                <li class="menu-item -level-2"><span class="title">Instances</span>
                </li>
                <li class="menu-item -level-2"><span class="title">Time traveling and hot-reloading</span>
                </li>
                <li class="menu-item -level-2"><span class="title">Remote debugging</span>
                </li>
                <li class="menu-item -level-2"><span class="title">Dispatching actions</span>
                </li>
                <li class="menu-item -level-2"><span class="title">Generating tests</span>
                </li>
              </ul>
            </li>
            <li class="menu-item -level-1 -parent"><span class="title">Advanced</span>
              <ul class="submenu">
                <li class="menu-item -level-2"><span class="title">Using in production</span>
                </li>
                <li class="menu-item -level-2"><span class="title">Getting reports from users</span>
                </li>
                <li class="menu-item -level-2"><span class="title">Dealing with side effects</span>
                </li>
              </ul>
            </li>
            <li class="menu-item -level-1 -parent"><span class="title">API Reference</span>
              <ul class="submenu">
                <li class="menu-item -level-2"><a href="../API/Arguments.html#windowdevtoolsextensionconfig" class="link title  link-apiarguments">Apply as a Redux store enhancer</a>
                </li>
                <li class="menu-item -level-2"><a href="../API/Arguments.html#windowdevtoolsextensionreducer-preloadedstate-config" class="link title  link-apiarguments-2">Create Redux store right in the extension</a>
                </li>
                <li class="menu-item -level-2"><a href="../API/Methods.html" class="link title -active link-apimethods">Communicate with the extension directly</a>
                  <ul class="headings heading-list">
                    <li class="heading-item -depth-2"><a href="#communicate-with-the-extension-directly" class="hlink link-communicate-with-the-extension-directly">Communicate with the extension directly</a>
                      <ul class="heading-list -depth-2">
                        <li class="heading-item -depth-3"><a href="#window.devtoolsextension.open(position)" class="hlink link-window.devtoolsextension.open(position)">window.devToolsExtension.open([position])</a>
                        </li>
                        <li class="heading-item -depth-3"><a href="#window.devtoolsextension.notifyerrors(onerror)" class="hlink link-window.devtoolsextension.notifyerrors(onerror)">window.devToolsExtension.notifyErrors([onError])</a>
                        </li>
                        <li class="heading-item -depth-3"><a href="#window.devtoolsextension.updatestore(store-instanceid)" class="hlink link-window.devtoolsextension.updatestore(store-instanceid)">window.devToolsExtension.updateStore(store, instanceId)</a>
                        </li>
                        <li class="heading-item -depth-3"><a href="#window.devtoolsextension.send(action-state-shouldstringify-instanceid)" class="hlink link-window.devtoolsextension.send(action-state-shouldstringify-instanceid)">window.devToolsExtension.send(action, state, [shouldStringify, instanceId])</a>
                        </li>
                        <li class="heading-item -depth-3"><a href="#window.devtoolsextension.listen(onmessage-instanceid)" class="hlink link-window.devtoolsextension.listen(onmessage-instanceid)">window.devToolsExtension.listen(onMessage, instanceId)</a>
                        </li>
                        <li class="heading-item -depth-3"><a href="#window.devtoolsextension.connect(config)" class="hlink link-window.devtoolsextension.connect(config)">window.devToolsExtension.connect([config])</a>
                        </li>
                        <li class="heading-item -depth-3"><a href="#window.devtoolsextension.disconnect()" class="hlink link-window.devtoolsextension.disconnect()">window.devToolsExtension.disconnect()</a>
                        </li>
                      </ul>
                    </li>
                  </ul>
                </li>
              </ul>
            </li>
            <li class="menu-item -level-1"><a href="../FAQ.html" class="link title  link-faq">FAQ</a>
            </li>
            <li class="menu-item -level-1"><a href="../Troubleshooting.html" class="link title  link-troubleshooting">Troubleshooting</a>
            </li>
            <li class="menu-item -level-1 -parent"><span class="title">Project</span>
              <ul class="submenu">
                <li class="menu-item -level-2"><a href="../CHANGELOG.html" class="link title  link-changelog">Change Log</a>
                </li>
                <li class="menu-item -level-2"><a href="../Feedback.html" class="link title  link-feedback">Feedback</a>
                </li>
                <li class="menu-item -level-2"><a href="../Credits.html" class="link title  link-credits">Credits</a>
                </li>
              </ul>
            </li>
          </ul>
        </li>
      </div>
    </div>
  </body>
</html>